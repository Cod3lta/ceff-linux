<!-- slide bg="https://i.imgur.com/GsxGhFY.png" -->
<!-- slide data-background-opacity="0.2"  -->

`2.4.1.P LAMP`
# LAMP

![](https://i.imgur.com/Woyw2uBl.png)


---

<div class="fragment"> 

## Linux 

</div>
<div class="fragment"> 

## Apache

</div>
<div class="fragment"> 

## MySQL

</div>
<div class="fragment"> 

## PHP

</div>
<div class="fragment"> 

# Un serveur Web

</div>

---

### 1√®re chose : 
Ex√©cutez tous.tes la commande suivante **maintenant** :
```shell
sudo apt install apache2 mysql-server php8.1
```

<div class="fragment">
√Ä votre avis, que fait cette commande ?
</div>

---

![](https://i.imgur.com/p1z1jts.png)

PHP, est un langage de programmation, principalement utilis√© pour produire des pages Web dynamiques via un serveur HTTP. PHP est un langage imp√©ratif orient√© objet.  
PHP a permis de cr√©er un grand nombre de sites web c√©l√®bres, comme Facebook et Wikip√©dia. Il est consid√©r√© comme une des bases de la cr√©ation de sites web dits dynamiques mais √©galement des applications web.

---

![](https://i.imgur.com/qlmqYyT.png)

MySQL est un syst√®me de gestion de bases de donn√©es relationnelles. Il fait partie des logiciels de gestion de base de donn√©es les plus utilis√©s au monde, autant par le grand public que par des professionnels.

---


![](https://i.imgur.com/m8hZm4g.png)

Le logiciel libre **Apache HTTP Server** (Apache) est un serveur HTTP cr√©√© et maintenu au sein de la fondation Apache. Jusqu'en avril 20191, ce fut le serveur HTTP le plus populaire du World Wide Web.

---

## Fonctionnement d'un serveur web ‚öôÔ∏è

---
<!-- slide data-auto-animate   -->
Le serveur re√ßoit la requ√™te HTTPS sur son port 443
![](https://i.imgur.com/WHJJyjo.png)

---
<!-- slide data-auto-animate   -->
C'est le logiciel `apache2` qui √©coute le port 443. Il reprends donc la requ√™te.  
![](https://i.imgur.com/s0VnAuy.png)

---
<!-- slide data-auto-animate   -->
Apache regarde quels sites sont activ√©s, √† quelle site correspond la requ√™te qui vient d'arriver, et va chercher les fichiers dans le r√©pertoire correspondant.
![](https://i.imgur.com/EbaeSX3.png)

---
<!-- slide data-auto-animate   -->
Le fichier (ici "index.php") est trouv√©
![](https://i.imgur.com/OTP9dfq.png)

---
<!-- slide data-auto-animate   -->
Comme il s'agit d'un ".php", apache l'envoie √† l'interpr√©teur PHP
![](https://i.imgur.com/01s8iiG.png)

---
<!-- slide data-auto-animate   -->
PHP fait son travail et transforme le `.php` en `.html`
![](https://i.imgur.com/ZM9S0nv.png)

---
<!-- slide data-auto-animate   -->
Il est possible que des appels √† une base de donn√©es soient faits durant l'ex√©cution du code PHP. PHP discute donc avec le SGBD MySQL
![](https://i.imgur.com/y8uxgqq.png)

---
<!-- slide data-auto-animate   -->
MySQL envoies des r√©ponses pour chaque requ√™te (OK, erreur, donn√©es, etc...)
![](https://i.imgur.com/qzDrFmN.png)

---
<!-- slide data-auto-animate   -->
Quand l'interpr√©teur PHP a termin√© d'ex√©cuter son code, il renvoie un `.html` √† Apache
![](https://i.imgur.com/iAFd1QC.png)

---
<!-- slide data-auto-animate   -->
La r√©ponse est renvoy√©e au client.
![](https://i.imgur.com/zTC1Soy.png)

---
<!-- slide data-auto-animate   -->
![](https://i.imgur.com/L0QT1xx.png)

---

## Configuration d'Apache

---

√Ä l'installation, Apache est directement fonctionnel avec un site par d√©faut
![](https://i.imgur.com/F5ij3Eh.png)
Un message d'aide est affich√©

---

<!-- slide data-auto-animate  -->
### Message sur la page d'accueil
Il s'agit de la page de bienvenue par d√©faut utilis√©e pour tester le bon fonctionnement du serveur Apache2 apr√®s son installation sur les syst√®mes Ubuntu.

---
<!-- slide data-auto-animate  -->
### Message sur la page d'accueil
Si vous pouvez lire cette page, cela signifie que le serveur HTTP Apache install√© sur ce site fonctionne correctement. Vous devez **remplacer ce fichier** (situ√© dans `/var/www/html/index.html`) avant de continuer √† faire fonctionner votre serveur HTTP.

---
<!-- slide data-auto-animate  -->
### Message sur la page d'accueil
La configuration d'une installation de serveur web Apache2 sur les syst√®mes Ubuntu est la suivante :

---
<!-- slide data-auto-animate  -->
### Message sur la page d'accueil
```
/etc/apache2/              // üö® on touche pas
|-- apache2.conf           // Configuration d'Apache 
|       `--  ports.conf    // d√©terminer les ports o√π √©couter
|-- mods-enabled           // modules, configs globales, etc
|       |-- *.load
|       `-- *.conf
|-- conf-enabled           // pareil
|       `-- *.conf
|-- sites-available        // üìå Sites disponibles
|-- sites-enabled          // üìå Sites activ√©s
|       `-- *.conf
```

---

- ### sites-available
Liste des sites existant sur le serveur web
- #### sites-enabled
Liste des sites activ√©s sur le syst√®me<br>
üö® *On ne touche pas √† ce dossier ! Tout est fait par commandes*

---

Site disponibles par d√©faut : "000-default.conf"
![](https://i.imgur.com/3bKEmLq.png)

---

`000-default.conf`
![](https://i.imgur.com/1PbP94s.png)

---

### Modifier le site par d√©faut ?

<div class="fragment">
Aller modifier les fichiers dans `/var/www/html`
</div>

---
<!-- slide data-auto-animate  -->
### Cr√©er son propre site ?
1. Cr√©er un dossier `/var/www/monsite`

---
<!-- slide data-auto-animate  -->
### Cr√©er son propre site ?
2. Cr√©er une copie du fichier `000-default.conf` et l'appeler `monsite.conf`

---
<!-- slide data-auto-animate  -->
### Cr√©er son propre site ?
3. D√©finir dans le fichier `monsite.conf` le DocumentRoot sur "`var/www/monsite`"

---
<!-- slide data-auto-animate  -->
### Cr√©er son propre site ?
4. D√©sactiver le site par d√©faut avec `sudo a2dissite 000-default.conf`


---
<!-- slide data-auto-animate  -->
### Cr√©er son propre site ?
5. Activer notre site avec `sudo a2ensite monsite.conf`

---
<!-- slide data-auto-animate  -->
### Cr√©er son propre site ?
6. Red√©marrer Apache avec `sudo systemctl reload apache2`

